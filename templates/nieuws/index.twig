{% extends craft.app.request.isAjax and not craft.app.request.isLivePreview ? "_ajax" : "_layout" %}


{% block content %}
	{# import macro's #}
	{% import "_macros/_ui" as ui %}

	{% set filtersQuery = craft.app.request.getParam('categorie') %}
	{% set filterCategories = craft.categories.title(filtersQuery) %}


	<div role="main" class="main container">
		<div class="row banner-none">
			<div class="col">
				<h1>Urgent.fm nieuws</h1>
			</div>
		</div>

		<section class="nieuws-listing mt-0">
			{% set nieuwsQuery = craft.entries.section('nieuws')
				.section('nieuws')
				.relatedTo(filterCategories)
				.limit(9) %}
			{% set nieuws = nieuwsQuery.all() %}
			
			{% paginate nieuwsQuery as pageInfo, pageEntries %}
			{% include "_includes/nieuwsoverzicht" with { nieuws: pageEntries } only %}
		</section>

		{{ ui.setPagination(pageInfo) }}
	</div>
{% endblock %}